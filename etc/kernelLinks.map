
- NASM Map file ---------------------------------------------------------------

Source file:  src/kernel/main.asm
Output file:  build/kernel.bin

-- Program origin -------------------------------------------------------------

00007E00

-- Sections (summary) ---------------------------------------------------------

Vstart            Start             Stop              Length    Class     Name
            7E00              7E00              881F  00000A1F  progbits  .text
            8820              8820              8A11  000001F1  progbits  .data
            8A14              8A14              8A54  00000040  nobits    .bss

-- Sections (detailed) --------------------------------------------------------

---- Section .text ------------------------------------------------------------

class:     progbits
length:                 A1F
start:                 7E00
align:     not defined
follows:   not defined
vstart:                7E00
valign:    not defined
vfollows:  not defined

---- Section .data ------------------------------------------------------------

class:     progbits
length:                 1F1
start:                 8820
align:                    4
follows:   not defined
vstart:                8820
valign:    not defined
vfollows:  not defined

---- Section .bss -------------------------------------------------------------

class:     nobits
length:                  40
start:                 8A14
align:     not defined
follows:   not defined
vstart:                8A14
valign:                   4
vfollows:  not defined

-- Symbols --------------------------------------------------------------------

---- No Section ---------------------------------------------------------------

Value     Name
00000060  KEYBOARD_DATAPORT
00000064  KEYBOARD_COMMANDPORT
000B8000  VIDEO_ADDRESS
00000019  MAX_ROWS
00000050  MAX_COLS
00000007  GRAY_ON_BLACK
000003D4  REG_SCREEN_CTRL
000003D5  REG_SCREEN_DATA
000001F0  ATA.port0Base
00000170  ATA.port1Base
000001E8  ATA.port2Base
00000168  ATA.port3Base
00000000  ATA.dataPortOffset
00000001  ATA.errorPortOffset
00000002  ATA.sectorCountPortOffset
00000003  ATA.lbaLowPortOffset
00000004  ATA.lbaMidPortOffset
00000005  ATA.lbaHighPortOffset
00000006  ATA.devicePortOffset
00000007  ATA.commandPortOffset
00000206  ATA.controlPortOffset
00000200  ATA.bytesPerSector
000000A0  ATA.devicePortIdentifyMasterMessage
000000B0  ATA.devicePortIdentifySlaveMessage
000000E0  ATA.devicePortReadWriteMasterMessage
000000F0  ATA.devicePortReadWriteSlaveMessage
000000EC  ATA.commandPortIdentifyMessage
00000020  ATA.commandPortReadMessage
00000030  ATA.commandPortWriteMessage
00000000  IDT_OFFSET


---- Section .text ------------------------------------------------------------

Real              Virtual           Name
            7E00              7E00  _startLM
            7E4D              7E4D  _getKeyboardKey
            7EA8              7EA8  _keyboardIfShift
            7EB0              7EB0  _keyboardElseShift
            7EB6              7EB6  _keyboardCaseAfter
            7EC8              7EC8  _keyboardCaseShiftPushed
            7ED2              7ED2  _keyboardCaseShiftReleased
            7EDC              7EDC  keyboardToAsciiSwitchTable
            7F48              7F48  _printAt
            7F4C              7F4C  _defaultCharacterStyle
            7F4E              7F4E  _defaultCharacterStyleAfter
            7F66              7F66  _ifGetCursor
            7F6B              7F6B  _getCursorAfter
            7F72              7F72  _writeCharacterCycle
            7F80              7F80  _ifNewLineCharacter
            7FA2              7FA2  _elseNewLineCharacter
            7FA9              7FA9  _newLineCharacterAfter
            7FC8              7FC8  _getVideomemoryOffset
            7FDF              7FDF  _getCursor
            7FFD              7FFD  _setCursor
            801D              801D  _print
            8027              8027  _clearScreen
            803B              803B  _clearScreenCycle
            804D              804D  _handleScrolling
            8076              8076  _backspace
            80A6              80A6  _backspacePrevLineElse
            80B4              80B4  _backspacePrevLineIf
            80BE              80BE  _backspaceCycle
            80CE              80CE  _backspaceCycleAfter
            80D8              80D8  _cursorGoRight
            80FF              80FF  _cursorGoLeft
            8124              8124  _cursorGoUp
            813D              813D  _cursorGoDown
            8158              8158  ATA
            8158              8158  ATA._identify
            815C              815C  ATA._ifTalkToMasterIdentify
            8160              8160  ATA._ifTalkToSlaveIdentify
            8162              8162  ATA._ifTalkToReturnIdentify
            8185              8185  ATA._ifNoDevice
            8188              8188  ATA._elseNoDevice
            81AE              81AE  ATA._waitForDevice
            81BE              81BE  ATA._waitStatusConfirmed
            81C1              81C1  ATA._waitForDeviceReturn
            81CA              81CA  ATA._identifyReadCycle
            81D1              81D1  ATA._checkATAPort
            81E1              81E1  ATA._ifATADeviceExists
            822B              822B  ATA._printMaster
            823B              823B  ATA._printSlave
            824B              824B  ATA._init
            82C3              82C3  ATA._printNoDevices
            82D3              82D3  ATA._read
            82D7              82D7  ATA._ifTalkToMasterRead
            82DB              82DB  ATA._ifTalkToSlaveRead
            82DD              82DD  ATA._ifTalkToReturnRead
            8357              8357  ATA._waitForDeviceRead
            8367              8367  ATA._waitStatusConfirmedRead
            836A              836A  ATA._waitForDeviceReturnRead
            8377              8377  ATA._readCycle
            8398              8398  ATA._printError
            83A8              83A8  _divisionBy0Handler
            83BC              83BC  _invalidOpcodeInterruptHandler
            83D0              83D0  _deviceNotAvailableInterruptHandler
            83E4              83E4  _invalidTSSInterruptHandler
            83F8              83F8  _segmentNotPresentInterruptHandler
            840C              840C  _stackSegmentFaultInterruptHandler
            8420              8420  _generalProtectionFaultInterruptHandler
            8434              8434  _pageFaultInterruptHandler
            8448              8448  _floatingPointExceptionHandler
            845C              845C  _keyboardInterruptHandler
            8467              8467  _clockInterruptHandler
            846D              846D  _syscallHandler
            8476              8476  syscallTable
            8486              8486  IDTInterruptGatePattern
            8496              8496  _sysRead
            849C              849C  _sysRead._standardInput
            84AC              84AC  _sysRead._cycle
            84B9              84B9  _loadIDT
            86EA              86EA  _loadIDTCycle
            8707              8707  _defineIDTInterruptGate
            8721              8721  IDTPointer
            872B              872B  _memcpyq
            873C              873C  _break
            873D              873D  _interruptBreak
            873E              873E  _haltMachine
            8740              8740  _sleep
            8744              8744  _chill
            8750              8750  _minusCheck
            8756              8756  _minusConfirmed
            875F              875F  _assignFlippedIntegerPortion
            876A              876A  _assignFlippedIntegerPortionIf
            876F              876F  _assignFlippedIntegerPortionElse
            8772              8772  _assignFlippedIntegerPortionAfter
            877E              877E  _flipString
            8781              8781  _flipStringCycle1
            878A              878A  _flipStringCycle2
            879A              879A  _intToString
            87E1              87E1  _addMinus
            87E9              87E9  _memclrb
            87F3              87F3  _add0
            87F8              87F8  _addNewLineCharacter
            8800              8800  _addSpaceCharacter
            8808              8808  done
            880F              880F  loadingIDT

---- Section .data ------------------------------------------------------------

Real              Virtual           Name
            8820              8820  shiftFlag
            8821              8821  keyboardBuffer
            8823              8823  inputCounter
            8824              8824  inputBuffer
            8825              8825  ATA.ATADeviceDetectedMessage
            8845              8845  ATA.lookForATADevicesMessage
            885F              885F  ATA.noDevicesMessage
            887A              887A  ATA.error
            8895              8895  ATA.slaveMessage
            889C              889C  ATA.masterMessage
            88A4              88A4  ATA.ATAPortBaseHex
            88A8              88A8  ATA.memory
            88B7              88B7  divisionBy0
            88DF              88DF  _invalidOpcodeInterruptHandler.invalidOpcode
            8910              8910  _deviceNotAvailableInterruptHandler.deviceNotAvailable
            892C              892C  _invalidTSSInterruptHandler.invalidTSS
            8946              8946  _segmentNotPresentInterruptHandler.segmentNotPresent
            8995              8995  _stackSegmentFaultInterruptHandler.stackSegmentFault
            89B5              89B5  _generalProtectionFaultInterruptHandler.generalProtectionFault
            89D7              89D7  _pageFaultInterruptHandler.pageFault
            89EB              89EB  _floatingPointExceptionHandler.floatingPointException

---- Section .bss -------------------------------------------------------------

Real              Virtual           Name
            8A14              8A14  temp

